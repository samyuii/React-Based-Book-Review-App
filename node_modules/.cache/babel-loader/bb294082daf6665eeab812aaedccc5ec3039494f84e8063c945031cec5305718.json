{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React projects (beginners)\\\\personalisedmoviereviews\\\\src\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Search from \"./components/Search\";\nimport NumResults from \"./components/NumResults\";\nimport Main from \"./components/Main\";\nimport Box from \"./components/Box\";\nimport Loader from \"./components/Loader\";\nimport ErrorMessage from \"./components/ErrorMessage\";\nimport BookList from \"./BookComponents\";\nimport BookOverlay from \"./BookComponents\";\nimport { useBooks } from \"./hooks/useBooks\";\nimport { useDebounce } from \"./hooks/useDebounce\";\nimport { useLocalStorageState } from \"./hooks/useLocalStorageState\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(null);\n  const debouncedQuery = useDebounce(query, 500);\n  const {\n    books,\n    isLoading,\n    error\n  } = useBooks(debouncedQuery);\n  const [read, setRead] = useLocalStorageState([], \"read\");\n  const [recommendedBooks, setRecommendedBooks] = useState([]);\n  useEffect(() => {\n    async function fetchRecommendedBooks() {\n      try {\n        const res = await fetch(\"https://www.googleapis.com/books/v1/volumes?q=subject:fiction\");\n        const data = await res.json();\n        setRecommendedBooks(data.items || []);\n      } catch (err) {\n        console.error(\"Failed to fetch recommended books:\", err);\n      }\n    }\n    fetchRecommendedBooks();\n  }, []);\n  function handleSelectBook(id) {\n    setSelectedId(selectedId => id === selectedId ? null : id);\n  }\n  function handleCloseBook() {\n    setSelectedId(null);\n  }\n  function handleAddRead(book) {\n    setRead(prevRead => {\n      const updatedRead = [...prevRead, book];\n      localStorage.setItem(\"read\", JSON.stringify(updatedRead));\n      return updatedRead;\n    });\n  }\n  function handleDeleteRead(id) {\n    setRead(read => read.filter(book => book.id !== id));\n  }\n  useEffect(() => {\n    const storedRead = JSON.parse(localStorage.getItem(\"read\")) || [];\n    setRead(storedRead);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      query: query,\n      setQuery: setQuery\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NumResults, {\n      books: books\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [isLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), !isLoading && !error && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: books.length === 0 && query === \"\" ? /*#__PURE__*/_jsxDEV(BookList, {\n            books: recommendedBooks,\n            onSelectBook: handleSelectBook\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(BookList, {\n            books: books,\n            onSelectBook: handleSelectBook\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this)\n        }, void 0, false), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          message: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), selectedId && /*#__PURE__*/_jsxDEV(BookOverlay, {\n        selectedId: selectedId,\n        onCloseBook: handleCloseBook,\n        onAddRead: handleAddRead,\n        read: read\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"9844c9X/+kwJwBkZC3MR5tqxcHU=\", false, function () {\n  return [useDebounce, useBooks, useLocalStorageState];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","Search","NumResults","Main","Box","Loader","ErrorMessage","BookList","BookOverlay","useBooks","useDebounce","useLocalStorageState","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","query","setQuery","selectedId","setSelectedId","debouncedQuery","books","isLoading","error","read","setRead","recommendedBooks","setRecommendedBooks","fetchRecommendedBooks","res","fetch","data","json","items","err","console","handleSelectBook","id","handleCloseBook","handleAddRead","book","prevRead","updatedRead","localStorage","setItem","JSON","stringify","handleDeleteRead","filter","storedRead","parse","getItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onSelectBook","message","onCloseBook","onAddRead","_c","$RefreshReg$"],"sources":["D:/Projects/React projects (beginners)/personalisedmoviereviews/src/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Search from \"./components/Search\";\r\nimport NumResults from \"./components/NumResults\";\r\nimport Main from \"./components/Main\";\r\nimport Box from \"./components/Box\";\r\nimport Loader from \"./components/Loader\";\r\nimport ErrorMessage from \"./components/ErrorMessage\";\r\nimport BookList from \"./BookComponents\";\r\nimport BookOverlay from \"./BookComponents\";\r\nimport { useBooks } from \"./hooks/useBooks\";\r\nimport { useDebounce } from \"./hooks/useDebounce\";\r\nimport { useLocalStorageState } from \"./hooks/useLocalStorageState\";\r\n\r\nexport default function Home() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [selectedId, setSelectedId] = useState(null);\r\n  const debouncedQuery = useDebounce(query, 500);\r\n  const { books, isLoading, error } = useBooks(debouncedQuery);\r\n  const [read, setRead] = useLocalStorageState([], \"read\");\r\n  const [recommendedBooks, setRecommendedBooks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchRecommendedBooks() {\r\n      try {\r\n        const res = await fetch(\r\n          \"https://www.googleapis.com/books/v1/volumes?q=subject:fiction\"\r\n        );\r\n        const data = await res.json();\r\n        setRecommendedBooks(data.items || []);\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch recommended books:\", err);\r\n      }\r\n    }\r\n    fetchRecommendedBooks();\r\n  }, []);\r\n\r\n  function handleSelectBook(id) {\r\n    setSelectedId((selectedId) => (id === selectedId ? null : id));\r\n  }\r\n\r\n  function handleCloseBook() {\r\n    setSelectedId(null);\r\n  }\r\n\r\n  function handleAddRead(book) {\r\n    setRead((prevRead) => {\r\n      const updatedRead = [...prevRead, book];\r\n      localStorage.setItem(\"read\", JSON.stringify(updatedRead));\r\n      return updatedRead;\r\n    });\r\n  }\r\n\r\n  function handleDeleteRead(id) {\r\n    setRead((read) => read.filter((book) => book.id !== id));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const storedRead = JSON.parse(localStorage.getItem(\"read\")) || [];\r\n    setRead(storedRead);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      <Search query={query} setQuery={setQuery} />\r\n      <NumResults books={books} />\r\n      <Main>\r\n        <Box>\r\n          {isLoading && <Loader />}\r\n          {!isLoading && !error && (\r\n            <>\r\n              {books.length === 0 && query === \"\" ? (\r\n                <BookList\r\n                  books={recommendedBooks}\r\n                  onSelectBook={handleSelectBook}\r\n                />\r\n              ) : (\r\n                <BookList books={books} onSelectBook={handleSelectBook} />\r\n              )}\r\n            </>\r\n          )}\r\n          {error && <ErrorMessage message={error} />}\r\n        </Box>\r\n        {selectedId && (\r\n          <BookOverlay\r\n            selectedId={selectedId}\r\n            onCloseBook={handleCloseBook}\r\n            onAddRead={handleAddRead}\r\n            read={read}\r\n          />\r\n        )}\r\n      </Main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,GAAG,MAAM,kBAAkB;AAClC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,WAAW,MAAM,kBAAkB;AAC1C,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,WAAW,QAAQ,qBAAqB;AACjD,SAASC,oBAAoB,QAAQ,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpE,eAAe,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAMsB,cAAc,GAAGZ,WAAW,CAACQ,KAAK,EAAE,GAAG,CAAC;EAC9C,MAAM;IAAEK,KAAK;IAAEC,SAAS;IAAEC;EAAM,CAAC,GAAGhB,QAAQ,CAACa,cAAc,CAAC;EAC5D,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGhB,oBAAoB,CAAC,EAAE,EAAE,MAAM,CAAC;EACxD,MAAM,CAACiB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAE5DD,SAAS,CAAC,MAAM;IACd,eAAe+B,qBAAqBA,CAAA,EAAG;MACrC,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,+DACF,CAAC;QACD,MAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;QAC7BL,mBAAmB,CAACI,IAAI,CAACE,KAAK,IAAI,EAAE,CAAC;MACvC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACZ,KAAK,CAAC,oCAAoC,EAAEW,GAAG,CAAC;MAC1D;IACF;IACAN,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAEN,SAASQ,gBAAgBA,CAACC,EAAE,EAAE;IAC5BlB,aAAa,CAAED,UAAU,IAAMmB,EAAE,KAAKnB,UAAU,GAAG,IAAI,GAAGmB,EAAG,CAAC;EAChE;EAEA,SAASC,eAAeA,CAAA,EAAG;IACzBnB,aAAa,CAAC,IAAI,CAAC;EACrB;EAEA,SAASoB,aAAaA,CAACC,IAAI,EAAE;IAC3Bf,OAAO,CAAEgB,QAAQ,IAAK;MACpB,MAAMC,WAAW,GAAG,CAAC,GAAGD,QAAQ,EAAED,IAAI,CAAC;MACvCG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,WAAW,CAAC,CAAC;MACzD,OAAOA,WAAW;IACpB,CAAC,CAAC;EACJ;EAEA,SAASK,gBAAgBA,CAACV,EAAE,EAAE;IAC5BZ,OAAO,CAAED,IAAI,IAAKA,IAAI,CAACwB,MAAM,CAAER,IAAI,IAAKA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC1D;EAEAxC,SAAS,CAAC,MAAM;IACd,MAAMoD,UAAU,GAAGJ,IAAI,CAACK,KAAK,CAACP,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;IACjE1B,OAAO,CAACwB,UAAU,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEtC,OAAA;IAAKyC,SAAS,EAAC,8BAA8B;IAAAC,QAAA,gBAC3C1C,OAAA,CAACZ,MAAM;MAACiB,KAAK,EAAEA,KAAM;MAACC,QAAQ,EAAEA;IAAS;MAAAqC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC5C9C,OAAA,CAACX,UAAU;MAACqB,KAAK,EAAEA;IAAM;MAAAiC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC5B9C,OAAA,CAACV,IAAI;MAAAoD,QAAA,gBACH1C,OAAA,CAACT,GAAG;QAAAmD,QAAA,GACD/B,SAAS,iBAAIX,OAAA,CAACR,MAAM;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACvB,CAACnC,SAAS,IAAI,CAACC,KAAK,iBACnBZ,OAAA,CAAAE,SAAA;UAAAwC,QAAA,EACGhC,KAAK,CAACqC,MAAM,KAAK,CAAC,IAAI1C,KAAK,KAAK,EAAE,gBACjCL,OAAA,CAACN,QAAQ;YACPgB,KAAK,EAAEK,gBAAiB;YACxBiC,YAAY,EAAEvB;UAAiB;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,gBAEF9C,OAAA,CAACN,QAAQ;YAACgB,KAAK,EAAEA,KAAM;YAACsC,YAAY,EAAEvB;UAAiB;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAC1D,gBACD,CACH,EACAlC,KAAK,iBAAIZ,OAAA,CAACP,YAAY;UAACwD,OAAO,EAAErC;QAAM;UAAA+B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC,CAAC,EACLvC,UAAU,iBACTP,OAAA,CAACL,WAAW;QACVY,UAAU,EAAEA,UAAW;QACvB2C,WAAW,EAAEvB,eAAgB;QAC7BwB,SAAS,EAAEvB,aAAc;QACzBf,IAAI,EAAEA;MAAK;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CACF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC1C,EAAA,CAhFuBD,IAAI;EAAA,QAGHN,WAAW,EACED,QAAQ,EACpBE,oBAAoB;AAAA;AAAAsD,EAAA,GALtBjD,IAAI;AAAA,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}