{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React projects (beginners)\\\\personalisedmoviereviews\\\\src\\\\components\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\"; // Removed useRef\nimport { fetchBooks, saveBooks } from \"../utils/api\"; // Example of imported API functions\n\nimport Loader from \"./Loader\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport Search from \"./Search\";\nimport NumResults from \"./NumResults\";\nimport Main from \"./Main\";\nimport Box from \"./Box\";\nimport BookList from \"./BookList\";\nimport BookOverlay from \"./BookOverlay\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedBook, setSelectedBook] = useState(null);\n  const [read, setRead] = useState([]);\n  useEffect(() => {\n    const fetchInitialBooks = async () => {\n      setIsLoading(true);\n      try {\n        const books = await fetchBooks();\n        setBooks(books);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchInitialBooks();\n  }, []);\n  useEffect(() => {\n    const storedReadBooks = JSON.parse(localStorage.getItem(\"readBooks\"));\n    if (storedReadBooks) {\n      setRead(storedReadBooks);\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"readBooks\", JSON.stringify(read));\n  }, [read]);\n  const handleSearch = async query => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const books = await fetchBooks(query);\n      setBooks(books);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleSelectBook = bookId => {\n    const book = books.find(book => book.id === bookId);\n    setSelectedBook(book);\n  };\n  const handleAddToRead = book => {\n    if (!read.some(readBook => readBook.id === book.id)) {\n      const updatedRead = [...read, book];\n      setRead(updatedRead);\n    }\n  };\n  const handleCloseOverlay = () => {\n    setSelectedBook(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      message: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(NumResults, {\n      count: books.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(BookList, {\n          books: books,\n          onSelectBook: handleSelectBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), selectedBook && /*#__PURE__*/_jsxDEV(BookOverlay, {\n        book: selectedBook,\n        onClose: handleCloseOverlay,\n        onAddToRead: handleAddToRead\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"u3ltHH0lVrMBFHaYviv8CnMuWx8=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useState","useEffect","fetchBooks","saveBooks","Loader","ErrorMessage","Search","NumResults","Main","Box","BookList","BookOverlay","jsxDEV","_jsxDEV","Home","_s","books","setBooks","isLoading","setIsLoading","error","setError","selectedBook","setSelectedBook","read","setRead","fetchInitialBooks","message","storedReadBooks","JSON","parse","localStorage","getItem","setItem","stringify","handleSearch","query","handleSelectBook","bookId","book","find","id","handleAddToRead","some","readBook","updatedRead","handleCloseOverlay","className","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","count","length","onSelectBook","onClose","onAddToRead","_c","$RefreshReg$"],"sources":["D:/Projects/React projects (beginners)/personalisedmoviereviews/src/components/Home.js"],"sourcesContent":["import { useState, useEffect } from \"react\"; // Removed useRef\r\nimport { fetchBooks, saveBooks } from \"../utils/api\"; // Example of imported API functions\r\n\r\nimport Loader from \"./Loader\";\r\nimport ErrorMessage from \"./ErrorMessage\";\r\nimport Search from \"./Search\";\r\nimport NumResults from \"./NumResults\";\r\nimport Main from \"./Main\";\r\nimport Box from \"./Box\";\r\nimport BookList from \"./BookList\";\r\nimport BookOverlay from \"./BookOverlay\";\r\n\r\nexport default function Home() {\r\n  const [books, setBooks] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [selectedBook, setSelectedBook] = useState(null);\r\n  const [read, setRead] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchInitialBooks = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const books = await fetchBooks();\r\n        setBooks(books);\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchInitialBooks();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const storedReadBooks = JSON.parse(localStorage.getItem(\"readBooks\"));\r\n    if (storedReadBooks) {\r\n      setRead(storedReadBooks);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"readBooks\", JSON.stringify(read));\r\n  }, [read]);\r\n\r\n  const handleSearch = async (query) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const books = await fetchBooks(query);\r\n      setBooks(books);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectBook = (bookId) => {\r\n    const book = books.find((book) => book.id === bookId);\r\n    setSelectedBook(book);\r\n  };\r\n\r\n  const handleAddToRead = (book) => {\r\n    if (!read.some((readBook) => readBook.id === book.id)) {\r\n      const updatedRead = [...read, book];\r\n      setRead(updatedRead);\r\n    }\r\n  };\r\n\r\n  const handleCloseOverlay = () => {\r\n    setSelectedBook(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <Search onSearch={handleSearch} />\r\n      {isLoading && <Loader />}\r\n      {error && <ErrorMessage message={error} />}\r\n      <NumResults count={books.length} />\r\n      <Main>\r\n        <Box>\r\n          <BookList books={books} onSelectBook={handleSelectBook} />\r\n        </Box>\r\n        {selectedBook && (\r\n          <BookOverlay\r\n            book={selectedBook}\r\n            onClose={handleCloseOverlay}\r\n            onAddToRead={handleAddToRead}\r\n          />\r\n        )}\r\n      </Main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}